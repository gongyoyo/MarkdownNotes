# C Primer Plus

[..](c-c++-catalog.md)

- [C Primer Plus](#c-primer-plus)
  - [第一章: 初始C语言](#第一章-初始c语言)
  - [第二章： C语言概述](#第二章-c语言概述)
  - [第三章：数据和C](#第三章数据和c)
  - [第四章：字符串和格式化输入/输出](#第四章字符串和格式化输入输出)
  - [第五章：运算法，表达式和语句](#第五章运算法表达式和语句)

## 第一章: 初始C语言

1. 7个步骤: 定义程序的目标,设计程序,编写代码,编译,运行,测试和调试,维护和修改
2. C编程的基本策略是,用程序把源代码文件转换为可执行文件(其中包含可直接运行的机器语言代码)。典型的C实现通过编译和链接两个步骤来完成这一过程。编译器把源代码转换成中间代码,链接器把中间代码和其他代码合并,生成可执行文件
3. 链接器的作用是,把你编写的目标代码、系统的标准启动代码和库代码这3部分合并成一个文件,即可执行文件
4. gcc直接编译成a.out
   1. `gcc -std=c99 inform.c`;`gcc -std=c1x inform.c`;`gcc -std=c11 inform.c`

## 第二章： C语言概述

C语言中的六中语句：
    1. 标号语句
    2. 复合语句
    3. 表达式语句
    4. 选择语句
    5. 迭代语句
    6. 跳转语句

典型的C程序：
    1. 预处理语句(preprocessing)
    2. main()函数
    3. 函数
    4. 注释
    5. 花括号，函数体，块
    6. 声明, 关键字，标识符
    7. 命名，必须以_或字母开头,可包含数字,区分大小写，操作系统和C库经常以一个或两个下划线开头
    8. 赋值云算法，没有赋值语句，在声明时，编译器在计算机中为变量预留了空间，赋值时，将值存储在预留的位置
    9. 函数，实参，形参,主调函数,转义序列，占位符
    10. return跳转语句

1. 函数原型(声明)，函数调用语句（表达式语句），函数定义
2. 程序状态(program state)是在程序的执行过程中,某给定点上所有变量值的集合。它是计算机当前状态的一个快照

## 第三章：数据和C 

1. 常量与变量
2. int,short,long,char,float,double,unsigned;signed, void;_Bool,_Complex(复数),_Imaginary(虚数)
3. 字，字节(byte),位(bit);1字节=8位;最初一字长为8位，现在为64位，字长越大，数据转移越快，允许访问的内存越多
4. 计算机把浮点数范围整数部分和小数部分来表示，而且分开存储这两部分;$3.1415=+0.3415*10^1$：符号位 + . + 小数位 + 指数位
   
基本数据类型
1. int,一般为1个字长，32位；16位时范围位：-32768~32767,C规定此位int的最小范围,变量的声明和初始化
2. 十六进制与八进制，十六进制的每一位数恰好由4位二进制数表示，16位的35二进制为：00110101;十六进制以0x或0X开头，八进制以0开头;不同进制在存储时仍然以二进制编码
3. %o输出八进制，%x输出十六进制；%#o，%#x，%#X输出带前缀的
4. 附属关键字修饰基本整数类型: short,long,unsigned(无符号整数，0~65535),signed(强调有符号的，short=short int=signed short int)
   1. short占用的存储空间不能多于int，long占用的存储空间不能少于int
   2. int -> long -> unsigned long -> long long
   3. 可以直接在常量后面加l(小写L)或L后
   4. 溢出后从头开始，int从-32768开始，unsigned从0开始
   5. 打印时：unsigned(%u),long(%ld),%o,%x可以使用l前缀;short可使用h前缀(%hd)
   6. 在使用printf()函数时,切记检查每个待打印值都有对应的转换说明,还要检查转换说明的类型是否与待打印值的类型相匹配
5. char类型用于存储字符，但从技术层面看，char是整数类型，因为char实际存储的不是整数而是字符
   1. char的赋值使用单引号;双引号被视为字符串
6. _Bool实际上也被以整数存储
7. 浮点数，float，double
   1. 通常，系统存储一个浮点数要占用32位，8位表示指数的值和符号
   2. float单精度，double双精度,doubule一般占用64位
   3. 浮点型常量可以省略整数部分或小数部分，但同时全部省略
   4. 浮点型常量通常默认为double，加后缀f或F可改为float
   5. 浮点型也可以使用十六进制，用p或P代替e和E，用2的幂代替10的幂
   6. %f打印浮点数，%e打印指数标记法的浮点数；%a打印十六进制；printf会将float自动转成double打印;
   7. 虚数的实部和虚部类型都基于浮点类型来构造
   8. sizeof(int)可以查看int类型在该系统中的大小，%zd输出该大小
8. printf()在缓冲区满，遇到换行符或需要输入的时候会从缓冲区将数据发送到屏幕上

## 第四章：字符串和格式化输入/输出

1. 字符串都被存储在char类型的数组中
2. C中的字符串一定是以空字符串(\0)结束，这意味着数组的容量必须必待存储的字符串的字符数多1
   1. 'x'是字符x；"x"是字符串，实际上是x+\0
3. string.h中的strlen()
4. 常量
   1. `#define NAME VALUE`常量定义没有等号与分号，常量名后的所有内容都被视为常量内容;常量会被C预处理器编译
   2. const关键字限制一个变量只读
5. printf： %%打印%号
   1. 转化说明是翻译说明，把以二进制文件存储在计算机中的值转化为一系列字符串以便于显示
   2. printf("%ld %ld %ld %ld", float_8, double_8,long_4,long_4)的调用过程:先将8位float与8位double，4位long，4位long放入栈中，然后转到printf()，该函数根据转换说明，%ld说明要读取4字节，因此，从栈中读取4字节，8位float就被截断了
6. scanf()除了%c模式，在读取输入时会跳过非空白字符前的所有空白字符，直至遇到空白字符或与正在读取字符不匹配的字符，并将该不匹配字符留在输入中作为下一次输入的首字符
   1. 假设有输入:-13.45,如果其对应的转换说明是%d,scanf()会读取3个字符(-13)并停留在小数点处，小数点将被留在输入中作为下次输入的首字符
7. printf的参数使用变量，常量和表达式，scanf使用指向变量的指针
   1. scanf()读取基本变量类型的值，在变量名前面加上一个&,字符数组不用
8. *修饰符
    1. printf()中的*修饰符可以用变量代替:`printf("%*.*f",width,precision,float)`
    2. scanf()中的*修饰符用来跳过相应的输出项：`scanf("%*d %*d %d",&n)`,程序会跳过前两个整数，把第三个拷贝给n
9. 空白包括空格，制表符和换行符

## 第五章：运算法，表达式和语句

关键字： while,typedef  
运算符： =, -, *, /, %, ++, --, (类型名)  
复合语句，自动类型转换，强制类型转换

1. =是赋值,赋值表达式语句的目的是把值储存到内存位置上
2. 数据对象、左值、右值和运算符
   1. 用于储存值的数据存储区域统称为数据对象(data object)
   2. 左值(可修改的左值)意味着: 
      1. 它指定一个对象,所以引用内存中的地址
      2. 它可用在赋值运算符的左侧,左值(lvalue)中的l源自left(const声明的变量除外)
   3. 支持三重赋值
   4. +,-既可以做二元运算符，右可以做一元运算符，表示正负数
   5. 整数除法的结果时整数，浮点数除法的结果是浮点数，不同类型的除法以精度高的为结果
   6. C99负数除法采取趋零截断
   7. 运算符的优先级与求值顺序