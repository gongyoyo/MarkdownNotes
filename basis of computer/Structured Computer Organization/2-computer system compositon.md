### 计算机系统组成

- 数字计算机是由处理器，存储器，输入/输出设备组成的内部互联系统

#### 2.1 处理器
- 总线： 总线是一些平行导线的集合，计算机用它来传递地址，数据和控制信号
- 中央处理器： 通过从主存储器中逐条进行取指令，分析指令和执行指令
    - 控制器： 负责从主存储器中取指令和确定指令类型
    - ALU: 执行指令
    - 内部存储器： 由寄存器组成
    - 程序计数器： 寄存器，指向下一条即将被取出执行的指令
    - 指令寄存器： 寄存器，存放着当前正在被执行的指令
- CPU的组成
    - 数据通路：寄存器（1-32个），ALU
    - 寄存器-内存指令，寄存器-寄存器指令
    - 数据通路周期：ALU将两个操作数进行运算并将结果存回的过程
- 指令执行
    - 取指-译码-执行
        - 从内存中取下一条指令到指令寄存器中
        - 将程序寄存器指向后面一条指令
        - 判断刚取到的指令类型
        - 若该执行用到内存单元，对该单元进行寻址
        - 必要时，从内存中取一个字到CPU的寄存器中
        - 执行指令
        - 返回第一步执行下一条指令
    - 解释器： 执行其他程序指令的程序
    - 复杂指令一般更快： 执行指令的步骤有时可以重叠，或用不同的硬件并行执行
    - 控制存储器：用来存放解释程序的快速只读存储器
- RISC和CISC
    - RISC：精简指令集计算机(Reduced Instruction Set Computer)
    - CISC：复杂指令集计算机(Complex Instruction Set Computer)
    - 兼容性
- 现代计算机设计原则
    - 所有指令可由硬件直接执行
        - 不要再由微指令解释一遍
    - 最大限度提高指令启动速度
        - MIPS：Millions Insturctions Per Sercond，每秒百万指令
        - 同时执行多条指令有可能提高性能，但要做许多记录来保证指令的正确执行顺序
    - 指令应易于译码
        - 判断指令要用到的资源的译码过程是严重影响指令启动速度的因素之一
    - 只允许读写内存指令访问内存
        - 访问内存需话费较长时间，且延时无法预测,并行执行
        - 最好只有LOAD和STORE指令可以访问内存,其他指令应只在寄存器中操作
    - 提供足够的寄存器
- 指令级并行
    - 指令级并行和处理器级并行
    - 指令流水线
        - 预取缓冲：寄存器，将指令从内存中预取出来并供需要时使用
        - 预取指令把指令执行分解成了取指令和实际执行指令两个过程，指令流水线把这个策略再往前推了一步
        - 取指单元，指令译码单元，取操作数单元，指令执行单元，回写单元
        - 指令流水线可以用指令时延（执行一条指令的时间）和处理器带宽（CPU的MIPS）来衡量
    - 超标量体系结构
        - 共用一个取指单元的双流水线, 并行执行的指令使用的资源不能冲突，且不能互相依赖各自的执行结果
        - 超标量常用来描述那些可在一个时钟周期内启动多条指令的处理器,指令启动的速度比执行的速度快很多，有多个功能单元
- 处理器级并行
    - 阵列计算机,阵列处理器,一个控制器，广播指令
    - 向量处理器,向量寄存器
    - 多处理器,多个CPU，公共内存,局部内存
    - 多计算机

#### 主存储器
- 存储器是计算机存放程序和数据的地方
- 存储位
    - 数字信息可以通过区分某些连续物理量的不同值来存储（如电压的高低），要区分的值越多，相邻值的差别就越小，存储器的可靠性就越低
    - BCD码（二－十进制码)：用４位二进制数表示十进制数，10种组合表示０－９，６种不用
- 内存编址
    - 存储器由许多可存放一段信息的单元（位置）组成，每个单元有一个编号，程序可以通过这个编号来访问这个单元，这个编号就是这个单元的地址
    - 地址位数与存储位：地址位数由存储器中需直接编址的单元的最大数目决定，而与每个单元有多少存储位无关
    - 字节，字：一般8位存储单元1字节，字节组合成字，32位字计算机每字有4个字节
- 字节顺序
    - 大端派（字节地址从左到右，从字节高的地址开始编排），小端派（字节地址从右到左，从字节低的地方开始编排）
    - 大小端交杂传输时很麻烦
- 纠错码